

<ion-content>
  <ion-item *ngFor="let i of post">
    <ion-grid fixed style="padding-top: 1rem;">
      <ion-row>
        <ion-col size="1"><ion-icon name="person-circle-outline"></ion-icon></ion-col>
        <ion-col size="6"><ion-label style="font-size: small;">{{i.from}}</ion-label></ion-col>
      </ion-row>
      <ion-row style="height: fit-content;">
        <ion-col size="1"></ion-col>
        <ion-col size="11">
          <ion-text readonly style="font-size: small; max-height: fit-content; color: dimgray;">{{i.message}}</ion-text>
        </ion-col>
      </ion-row>

      <!-- view replies -->
      <div *ngIf="i.showReply">
        <ion-item *ngFor="let q of i.replies">
          <ion-grid fixed>
            <ion-row>
              <ion-col size="1"><ion-icon name="person-circle-outline"></ion-icon></ion-col>
              <ion-col size="6"><ion-label>{{q.from}}</ion-label></ion-col>
            </ion-row>
            <ion-row style="height: fit-content;">
              <ion-col size="1"></ion-col>
              <ion-col size="11">
                <ion-text readonly style="font-size: small; max-height: fit-content; color: dimgray;">{{q.message}}</ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </div>


      <ion-row>
        <ion-col size="1"></ion-col>
        <ion-col size="5">
          <ion-button *ngIf="!i.showReply" (click)="viewReplies(i)" size="small" color="secondary" fill="clear"><ion-icon slot="end" name="chatbubble-ellipses-outline"></ion-icon>replies</ion-button>
          <ion-button *ngIf="i.showReply" (click)="viewReplies(i)" size="small" color="secondary" fill="clear"><ion-icon slot="start" name="remove-circle-outline"></ion-icon>close replies</ion-button>
        </ion-col>
        <ion-col size="9"></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="1"></ion-col>
        <ion-col size="9" style="background-color:lightgrey; border-radius: 15px; border: 1px rgb(175, 175, 175) solid;">
          <ion-input type="text" placeholder="Reply"></ion-input>
        </ion-col>
        <ion-col size="2">
          <ion-button (click)="onClick()" expand="block" fill="clear" shape="round">Post</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
</ion-content>
